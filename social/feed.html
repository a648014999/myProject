<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1.0,maximum-scale=1,minimum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/feed.css">
    <link rel="stylesheet" href="css/menu.css">
</head>

<body>
    <div id="pgcontainer" class="page clearf">

        <div class="header clearf">
            <div class="nav menubtn">
                <span></span>
                <span></span>
                <span></span>


            </div>
            <div id="hamburgermenu" class="menu">
                <!-- 搜索 -->
                <div class="search">
                    <img src="images/menu_searchlog.png" alt="">
                    <input type="text" placeholder="Search">
                </div>
                <!-- 轮播图 -->
                <div class="sideshow">
                    <div class="itembox">
                        <div class="item">
                            <div class="headportrait">
                                <img src="images/menu_HeadPortrait.png" alt="">
                            </div>
                            <h3>Carmen Electra</h3>
                            <span>Los Angeles, CA</span>
                        </div>
                        <div class="item">
                            <div class="headportrait">
                                <img src="images/menu_HeadPortrait.png" alt="">
                            </div>
                            <h3>Carmen </h3>
                            <span>Los </span>
                        </div>

                    </div>
                    <div class="btns">
                        <span></span>
                        <span></span>
                    </div>
                </div>
                <ul>
                    <li>Feed</li>
                    <li>Explore</li>
                    <li>Friends</li>
                    <li>Rewards</li>
                    <li>Settings</li>
                </ul>

            </div>
            <h3>Freebee</h3>

            <div class="overlay"></div>
        </div>
        <div class="content">
            <div class="top clearf">
                <div class="img fl">
                    <a href="profile.html">
                        <img src="images/feed_HeadPortrait1.png" alt="">
                    </a>
                </div>
                <div class="article fl">
                    <h3>Jesica Alba</h3>
                    <div>Los Angeles, CA</div>
                </div>
                <div class="distance fr">2m</div>
            </div>
            <div class="middle clearf">
                <div class="left fl">
                    <div class="img fl">
                        <img src="images/feed_HeadPortrait2.png" alt="">
                    </div>
                    <div class="article fl">
                        <h3>Shawn Corey Carter</h3>
                        <div>Brooklyn, NY</div>
                    </div>
                </div>
                <div class="right fl">
                    <div class="img">
                        <img src="images/feed_log1.png" alt="">
                    </div>
                    <div class="img">
                        <img src="images/feed_log2.png" alt="">
                    </div>
                    <div class="img">
                        <img src="images/feed_log3.png" alt="">
                    </div>
                    <div class="more">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            </div>
            <div class="bottom">
                <img src="images/feed_footer.png" alt="">
            </div>
        </div>
        <div class="footer">
            <div class="shade">

            </div>
            <div class="flexbtns">
                <a href="index.html" class="img">
                    <img src="images/footer_btn1_select.png" alt="">
                </a>
                <a href="" class="img">
                    <img src="images/footer_btn2.png" alt="">
                </a>
                <a href="" class="img">
                    <img src="images/footer_btn3.png" alt="">
                </a>
                <a href="" class="img">
                    <img src="images/footer_btn4.png" alt="">
                </a>
                <a href="" class="img">
                    <img src="images/footer_btn5.png" alt="">
                </a>
            </div>
        </div>
    </div>


</body>

</html>
<script src="js/jquery-3.1.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/response.js"></script>
<!-- 轮播图 -->
<script>
    var itembox;
    var sideshowbtns;
    var btnInitBgcolor = '#534b44';
    var selectBgcolor = '#fff';

    function sideshow() {
        itembox = $(".sideshow .itembox .item");
        // console.log(itembox.length);
        sideshowbtns = $(".sideshow .itembox ~ .btns");
        sideshowbtns.children().click(function () {
            clearInterval(T);
            var currindex = $(this).index();
            i = currindex;
            $(itembox[currindex]).siblings().css('opacity', '0');
            $(itembox[currindex]).css('opacity', '1');
            $(this).css('background', selectBgcolor);
            $(this).siblings().css('background', btnInitBgcolor);
            T = setInterval(autosideshow, 2000);
        });

    }
    sideshow();
    var i = 0;

    function autosideshow() {
        i++;
        $(itembox[i]).siblings().css('opacity', '0');
        $(itembox[i]).css('opacity', '1');
        $(sideshowbtns.children()[i]).siblings().css('background', btnInitBgcolor);
        $(sideshowbtns.children()[i]).css('background', selectBgcolor);
        // console.log(i);
        if (i >= itembox.length - 1) {
            i = -1;
        }
    }
    var T = setInterval(autosideshow, 2000);
</script>
<!-- 左侧弹出菜单 -->
<script>
    $(function () {
        var menuwidth = 4.94; // 边栏宽度
        var menuspeed = 400; // 边栏滑出耗费时间

        var $bdy = $('body');
        var $container = $('#pgcontainer');
        var $burger = $('#hamburgermenu');
        var negwidth = "-" + menuwidth + "px";
        var poswidth = menuwidth + "rem";

        $('.menubtn').on('click', function (e) {
            if ($bdy.hasClass('openmenu')) {
                jsAnimateMenu('close');
            } else {
                jsAnimateMenu('open');
            }
        });

        $('.overlay').on('click', function (e) {
            if ($bdy.hasClass('openmenu')) {
                jsAnimateMenu('close');
            }
        });
        
        
        function jsAnimateMenu(tog) {
            if (tog == 'open') {
                $bdy.addClass('openmenu');
                $('.page > .content').css({
                    'position':'fixed',
                    'z-index':5,
                });
                $container.animate({
                    marginLeft: poswidth
                }, menuspeed);
                $burger.animate({
                    width: poswidth
                }, menuspeed);
                $('.overlay').animate({
                    left: poswidth,
                    height:"100%",
                }, menuspeed);
                
            }

            if (tog == 'close') {
                $bdy.removeClass('openmenu');
                $('.page > .content').css({
                    'position':'',
                    'z-index':0,
                });
                $container.animate({
                    marginLeft: "0"
                }, menuspeed);
                $burger.animate({
                    width: "0"
                }, menuspeed);
                $('.overlay').animate({
                    left: "0",
                    height:"0%",
                }, menuspeed);
            }
        }
    });
</script>